<?xml version="1.0" encoding="utf-8" ?>

<Patch>
	
	<!-- ID: 2553700067 -->
	<!-- ID: 2812992901 Russian Translate -->
	<Operation Class="PatchOperationFindMod">
		<mods><li>Medieval Overhaul</li></mods>
		<match Class="PatchOperationSequence">
			<operations>
				
				<!-- Set NobleHouse Faction to zero -->
				<li Class="PatchOperationReplace">
					<xpath>/Defs/FactionDef[@Name="DankPyon_NobleHouseFactionBase"]/requiredCountAtGameStart</xpath>
					<value>
						<requiredCountAtGameStart>0</requiredCountAtGameStart>
					</value>
				</li>
				<li Class="PatchOperationAdd">
					<xpath>/Defs/FactionDef[@Name="DankPyon_NobleHouseFactionBase"]</xpath>
					<value>
						<startingCountAtWorldCreation>0</startingCountAtWorldCreation>
					</value>
				</li>
				
				<!-- Add xenotypes -->
				<li Class="PatchOperationAdd">
					<xpath>/Defs/FactionDef[@Name="DankPyon_NobleHouseFactionBase" or @Name="DankPyon_UlrikFactionBase" or @Name="DankPyon_BrigandFactionBase"]</xpath>
					<value>
						<xenotypeSet>
							<xenotypeChances>
								<Baseliner MayRequire="Ludeon.RimWorld.Biotech">0.5</Baseliner>
								<Impid MayRequire="Ludeon.RimWorld.Biotech">0.25</Impid>
								<Neanderthal MayRequire="Ludeon.RimWorld.Biotech">0.25</Neanderthal>
								<Hussar MayRequire="Ludeon.RimWorld.Biotech">0.25</Hussar>
								<Yttakin MayRequire="Ludeon.RimWorld.Biotech">0.25</Yttakin>
							</xenotypeChances>
						</xenotypeSet>
					</value>
				</li>
				
				<!-- Add DankPyon_NobleHouseCivil Faction -->
				<li Class="PatchOperationAdd">
					<xpath>/Defs/FactionDef[defName="DankPyon_NobleHouseCivil"]</xpath>
					<value>
						<requiredCountAtGameStart>1</requiredCountAtGameStart>
					</value>
				</li>
				<li Class="PatchOperationAdd">
					<xpath>/Defs/FactionDef[defName="DankPyon_NobleHouseCivil"]</xpath>
					<value>
						<startingCountAtWorldCreation>1</startingCountAtWorldCreation>
					</value>
				</li>
				
				<!-- Research fix -->
				<li Class="PatchOperationAdd">
					<xpath>/Defs/ResearchProjectDef[defName="FlakArmor"]/prerequisites</xpath>
					<value>
						<li>PlateArmor</li>
					</value>
				</li>
				<li Class="PatchOperationAdd">
					<xpath>/Defs/ResearchProjectDef[defName="Gunsmithing"]/prerequisites</xpath>
					<value>
						<li>Greatbow</li>
						<li>DankPyon_Steel</li>
						<li>DankPyon_Gunpowder</li>
						<li>DankPyon_MilitaryPolearms</li>
					</value>
				</li>
				<li Class="PatchOperationAdd">
					<xpath>/Defs/ResearchProjectDef[defName="Electricity"]/prerequisites</xpath>
					<value>
						<li>DankPyon_Alchemy</li>
						<li>DankPyon_Steel</li>
					</value>
				</li>
				<li Class="PatchOperationAdd">
					<xpath>/Defs/ResearchProjectDef[defName="Electricity"]</xpath>
					<value>
						<requiredResearchBuilding>DankPyon_AdvancedResearchBench</requiredResearchBuilding>
					</value>
				</li>
				<li Class="PatchOperationReplace">
					<xpath>/Defs/ResearchProjectDef[defName="Electricity"]/baseCost</xpath>
					<value>
						<baseCost>10000</baseCost>
					</value>
				</li>
				<li Class="PatchOperationReplace">
					<xpath>/Defs/ResearchProjectDef[defName="Prosthetics"]/techLevel</xpath>
					<value>
						<techLevel>Medieval</techLevel>
					</value>
				</li>
				<li Class="PatchOperationReplace">
					<xpath>/Defs/ResearchProjectDef[defName="Prosthetics"]/prerequisites</xpath>
					<value>
						<prerequisites>
							<li>DankPyon_Engineering</li>
						</prerequisites>
					</value>
				</li>
				<li Class="PatchOperationAdd">
					<xpath>/Defs/ResearchProjectDef[defName="DankPyon_Gunpowder"]/prerequisites</xpath>
					<value>
						<li>Smithing</li>
					</value>
				</li>
				
				<!-- Scenario fix -->
				<li Class="PatchOperationRemove">
					<xpath>/Defs/ScenarioDef[defName="Crashlanded"]/scenario/parts/li[thingDef="Gun_BoltActionRifle"]</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>/Defs/ScenarioDef[defName="Crashlanded"]/scenario/parts/li[thingDef="Gun_Revolver"]</xpath>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>/Defs/ResearchProjectDef[defName="Electricity" or defName="NutrientPaste" or defName="AirConditioning"]/tags/li[text()="ClassicStart"]</xpath>
				</li>
				
				<!-- Mineable -->
				<li Class="PatchOperationReplace">
					<xpath>/Defs/ThingDef[defName="DankPyon_MineableCoal" or defName="DankPyon_MineableSalt" or defName="DankPyon_MineableGold" or defName="DankPyon_MineableIron"]/building/mineableYield</xpath>
					<value>
						<mineableYield>65</mineableYield>
					</value>
				</li>
				<li Class="PatchOperationReplace">
					<xpath>/Defs/ThingDef[defName="DankPyon_MineableCitrine" or defName="DankPyon_MineableAmber" or defName="DankPyon_MineableOnyx" or defName="DankPyon_MineableEmerald" or defName="DankPyon_MineableSapphire" or defName="DankPyon_MineableRuby"]/building/mineableYield</xpath>
					<value>
						<mineableYield>25</mineableYield>
					</value>
				</li>
				<li Class="PatchOperationReplace">
					<xpath>/Defs/ThingDef[@Name="DankPyon_SmallRuin"]/building/deconstructible</xpath>
					<value>
						<deconstructible>true</deconstructible>
					</value>
				</li>
				
				<!-- Disable CookMealFine and CookMealLavish -->
				<li Class="PatchOperationRemove">
					<xpath>/Defs/ThingDef[defName="FueledStove" or defName="ElectricStove" or defName="DankPyon_RusticCookingTable" or defName="Campfire"]/recipes/li[text()="CookMealFine" or text()="CookMealFine_Veg" or text()="CookMealFine_Meat" or text()="CookMealLavish" or text()="CookMealLavish_Veg" or text()="CookMealLavish_Meat" or text()="CookMealFineBulk" or text()="CookMealFineBulk_Veg" or text()="CookMealFineBulk_Meat" or text()="CookMealLavishBulk" or text()="CookMealLavishBulk_Veg" or text()="CookMealLavishBulk_Meat"]</xpath>
				</li>
				
				<!-- Disable DankPyon_Hornets faction -->
				<li Class="PatchOperationReplace">
					<xpath>/Defs/FactionDef[defName="DankPyon_Hornets"]/requiredCountAtGameStart</xpath>
					<value>
						<requiredCountAtGameStart>0</requiredCountAtGameStart>
					</value>
				</li>
				<li Class="PatchOperationReplace">
					<xpath>/Defs/FactionDef[defName="DankPyon_Hornets"]/maxConfigurableAtWorldCreation</xpath>
					<value>
						<maxConfigurableAtWorldCreation>0</maxConfigurableAtWorldCreation>
					</value>
				</li>
				<li Class="PatchOperationRemove">
					<xpath>/Defs/MapGeneratorDef[@Name="MapCommonBase"]/genSteps/li[text()="DankPyon_HornetNest"]</xpath>
				</li>
				
				<!-- Drug fix -->
				<li Class="PatchOperationReplace">
					<xpath>/Defs/ResearchProjectDef[defName="DrugProduction" or defName="PsychiteRefining" or defName="WakeUpProduction" or defName="GoJuiceProduction" or defName="PenoxycylineProduction"]/techLevel</xpath>
					<value>
						<techLevel>Medieval</techLevel>
					</value>
				</li>
				
				<!-- Traders -->
				<li Class="PatchOperationReplace">
					<xpath>/Defs/TraderKindDef[defName="DankPyon_Caravan_Medieval_BulkGoodsMerchant" or defName="DankPyon_Caravan_Medieval_ArtPatron" or defName="DankPyon_Caravan_Medieval_Armorsmith" or defName="DankPyon_Caravan_Medieval_Weaponsmith" or defName="DankPyon_Caravan_Medieval_RuinsMerchant" or defName="DankPyon_Caravan_Medieval_Scholar"]/stockGenerators/li[thingDef="Silver"]/countRange</xpath>
					<value>
						<countRange>2000~5000</countRange>
					</value>
				</li>
				<li Class="PatchOperationAdd">
					<xpath>/Defs/TraderKindDef[defName="DankPyon_Caravan_Medieval_BulkGoodsMerchant"]/stockGenerators</xpath>
					<value>
						<li Class="StockGenerator_SingleDef">
							<thingDef>DankPyon_Amber</thingDef>
							<countRange>80~155</countRange>
						</li>
					</value>
				</li>
				<li Class="PatchOperationReplace">
					<xpath>/Defs/TraderKindDef[defName="DankPyon_Base_Medieval_Standard"]/stockGenerators/li[thingDef="Silver"]/countRange</xpath>
					<value>
						<countRange>5000~10000</countRange>
					</value>
				</li>
				
			</operations>
		</match>
	</Operation>
	
	
	<!-- ID: 2553700067 -->
	<Operation Class="PatchOperationFindMod">
		<mods><li>Medieval Overhaul</li></mods>
		
		<match Class="PatchOperationFindMod">
			<mods><li>Biotech</li></mods>
			<match Class="PatchOperationSequence">
				<operations>
					
					<li Class="PatchOperationReplace">
						<xpath>/Defs/ResearchProjectDef[defName="FertilityProcedures"]/techLevel</xpath>
						<value>
							<techLevel>Medieval</techLevel>
						</value>
					</li>
					<li Class="PatchOperationReplace">
						<xpath>/Defs/ResearchProjectDef[defName="FertilityProcedures"]/prerequisites</xpath>
						<value>
							<prerequisites>
								<li>DrugProduction</li>
							</prerequisites>
						</value>
					</li>
					
				</operations>
			</match>
		</match>
		
	</Operation>
	
	
	<!-- ID: 2553700067 -->
	<Operation Class="PatchOperationFindMod">
		<mods><li>Medieval Overhaul</li></mods>
		
		<!-- ID: 935732834 (SeedsPlease) -->
		<!-- ID: 2586052937 (SeedsPlease: Lite) -->
		<match Class="PatchOperationFindMod">
			<mods>
				<li>SeedsPlease</li>
				<li>SeedsPlease: Lite</li>
			</mods>
			<match Class="PatchOperationSequence">
				<operations>
					
					<li Class="PatchOperationAdd">
						<xpath>/Defs/TraderKindDef[defName="DankPyon_Caravan_Medieval_BulkGoodsMerchant"]/stockGenerators</xpath>
						<value>
							<li Class="StockGenerator_Tag">
								<tradeTag>Seeds</tradeTag>
								<thingDefCountRange>
									<min>5</min>
									<max>15</max>
								</thingDefCountRange>
								<countRange>
									<min>50</min>
									<max>700</max>
								</countRange>
							</li>
						</value>
					</li>
					
				</operations>
			</match>
		</match>
		
	</Operation>
	
	
	<!-- ID: 2553700067 -->
	<Operation Class="PatchOperationFindMod">
		<mods><li>Medieval Overhaul</li></mods>
		
		<!-- ID: 2019053285 -->
		<match Class="PatchOperationFindMod">
			<mods><li>ColdCrystal</li></mods>
			<match Class="PatchOperationSequence">
				<operations>
					
					<li Class="PatchOperationAdd">
						<xpath>/Defs/TraderKindDef[defName="DankPyon_Caravan_Medieval_BulkGoodsMerchant" or defName="DankPyon_Base_Medieval_Standard"]/stockGenerators</xpath>
						<value>
							<li Class="StockGenerator_SingleDef">
								<thingDef>AmberCrystal</thingDef>
								<countRange>10~50</countRange>
							</li>
							<li Class="StockGenerator_SingleDef">
								<thingDef>ColdCrystal</thingDef>
								<countRange>10~50</countRange>
							</li>
						</value>
					</li>
					<li Class="PatchOperationAdd">
						<xpath>/Defs/TraderKindDef[defName="DankPyon_Visitor_Medieval_Standard"]/stockGenerators</xpath>
						<value>
							<li Class="StockGenerator_SingleDef">
								<thingDef>AmberCrystal</thingDef>
								<countRange>-10~5</countRange>
							</li>
							<li Class="StockGenerator_SingleDef">
								<thingDef>ColdCrystal</thingDef>
								<countRange>-10~5</countRange>
							</li>
						</value>
					</li>
					
				</operations>
			</match>
		</match>
		
	</Operation>
	
	
	<!-- ID: 2553700067 -->
	<Operation Class="PatchOperationFindMod">
		<mods><li>Medieval Overhaul</li></mods>
		
		<!-- ID: 2026992161 -->
		<match Class="PatchOperationFindMod">
			<mods><li>Dragons Descent</li></mods>
			<match Class="PatchOperationSequence">
				<operations>
					
					<li Class="PatchOperationAdd">
						<xpath>/Defs/TraderKindDef[defName="DankPyon_Caravan_Medieval_BulkGoodsMerchant" or defName="DankPyon_Base_Medieval_Standard"]/stockGenerators</xpath>
						<value>
							<li Class="StockGenerator_SingleDef">
								<thingDef>DragonHorn</thingDef>
								<countRange>0~3</countRange>
							</li>
							<li Class="StockGenerator_Category">
								<categoryDef>EggsDragon</categoryDef>
								<thingDefCountRange>0~1</thingDefCountRange>
								<countRange>1</countRange>
							</li>
							<li Class="StockGenerator_SingleDef">
								<thingDef>DraconicAmbrosia</thingDef>
								<countRange>5~18</countRange>
							</li>
							<li Class="StockGenerator_Category">
								<categoryDef>DragonLeathers</categoryDef>
								<thingDefCountRange>1~2</thingDefCountRange>
								<totalPriceRange>400~950</totalPriceRange>
							</li>
							<li Class="StockGenerator_SingleDef">
								<thingDef>DragonsBlood</thingDef>
								<countRange>0~8</countRange>
							</li>
						</value>
					</li>
					
				</operations>
			</match>
		</match>
		
	</Operation>
	
	
	<!-- ID: 2553700067 -->
	<Operation Class="PatchOperationFindMod">
		<mods><li>Medieval Overhaul</li></mods>
		
		<!-- ID: 2195469123 -->
		<match Class="PatchOperationFindMod">
			<mods><li>Apothecary (Continued)</li></mods>
			<match Class="PatchOperationSequence">
				<operations>
					
					<li Class="PatchOperationAdd">
						<xpath>/Defs/TraderKindDef[defName="DankPyon_Caravan_Medieval_BulkGoodsMerchant" or defName="DankPyon_Base_Medieval_Standard"]/stockGenerators</xpath>
						<value>
							<li Class="StockGenerator_Category">
								<categoryDef>AYPlantMatter</categoryDef>
								<thingDefCountRange>
									<min>3</min>
									<max>8</max>
								</thingDefCountRange>
								<totalPriceRange>
									<min>300</min>
									<max>600</max>
								</totalPriceRange>
							</li>
							<li Class="StockGenerator_Category">
								<categoryDef>AYProducts</categoryDef>
								<thingDefCountRange>
									<min>5</min>
									<max>10</max>
								</thingDefCountRange>
								<totalPriceRange>
									<min>300</min>
									<max>600</max>
								</totalPriceRange>
							</li>
						</value>
					</li>
					
					<li Class="PatchOperationAdd">
						<xpath>Defs/RecipeDef[defName="MakeAYAmmoniaHay" or defName="MakeAYCandleSingle" or defName="MakeAYCompost" or defName="MakeAYSaltedMeatBarrel" or defName="ExtractAYSaltedMeatFromBarrel" or defName="MakeAYTallow" or defName="MakeBulkAYTallow"]/recipeUsers</xpath>
						<value>
							<li>DankPyon_ButchersBlock</li>
						</value>
					</li>
					
				</operations>
			</match>
		</match>
		
	</Operation>
	
	
	<!-- ID: 2553700067 -->
	<Operation Class="PatchOperationFindMod">
		<mods><li>Medieval Overhaul</li></mods>
		
		<!-- ID: 2101545242 (Medieval Prosthetics) -->
		<!-- ID: 2883228057 (Medieval Medicines 1.4 Medieval Overhaul Edition) -->
		<match Class="PatchOperationFindMod">
			<mods>
				<li>Medieval Prosthetics</li>
				<li>Medieval Medicines 1.4 Medieval Overhaul Edition</li>
			</mods>
			<match Class="PatchOperationSequence">
				<operations>
					
					<li Class="PatchOperationReplace">
						<xpath>/Defs/ResearchProjectDef[defName="Prosthetics"]/prerequisites</xpath>
						<value>
							<prerequisites>
								<li>ArtificialLimbs</li>
								<li>DankPyon_Engineering</li>
							</prerequisites>
						</value>
					</li>
					<li Class="PatchOperationReplace">
						<xpath>/Defs/ResearchProjectDef[defName="CrudeLimbs"]/baseCost</xpath>
						<value>
							<baseCost>500</baseCost>
						</value>
					</li>
					<li Class="PatchOperationReplace">
						<xpath>/Defs/ResearchProjectDef[defName="ArtificialLimbs"]/baseCost</xpath>
						<value>
							<baseCost>750</baseCost>
						</value>
					</li>
					
				</operations>
			</match>
		</match>
		
	</Operation>
	
	
	<!-- ID: 2553700067 -->
	<Operation Class="PatchOperationFindMod">
		<mods><li>Medieval Overhaul</li></mods>
		
		<!-- ID: 2882598941 -->
		<match Class="PatchOperationFindMod">
			<mods><li>Kit's Gunpowder Weapons</li></mods>
			<match Class="PatchOperationSequence">
				<operations>
					
					<li Class="PatchOperationAdd">
						<xpath>/Defs/ResearchProjectDef[defName="KIT_Blackpowder"]/prerequisites</xpath>
						<value>
							<li>DankPyon_Gunpowder</li>
						</value>
					</li>
					<li Class="PatchOperationReplace">
						<xpath>/Defs/ResearchProjectDef[defName="KIT_LineInfantry"]/prerequisites</xpath>
						<value>
							<prerequisites>
								<li>DankPyon_Gunpowder</li>
								<li>Smithing</li>
							</prerequisites>
						</value>
					</li>
					<li Class="PatchOperationReplace">
						<xpath>/Defs/ThingDef[defName="KIT_Gun_Arquebus"]/recipeMaker/researchPrerequisite</xpath>
						<value>
							<researchPrerequisite>DankPyon_Gunpowder</researchPrerequisite>
						</value>
					</li>
					
				</operations>
			</match>
		</match>
		
	</Operation>
	
	
	<!-- ID: 2931612599 -->
	<Operation Class="PatchOperationFindMod">
		<mods><li>Medieval Overhaul: Arcane Archaeologists</li></mods>
		<match Class="PatchOperationSequence">
			<operations>
				
				<li Class="PatchOperationAdd">
					<xpath>/Defs/FactionDef[defName="Ogam_MagicalAcademy"]</xpath>
					<value>
						<maxCountAtGameStart>1</maxCountAtGameStart>
					</value>
				</li>
				<li Class="PatchOperationAdd">
					<xpath>/Defs/FactionDef[defName="Ogam_MagicalAcademy"]</xpath>
					<value>
						<requiredCountAtGameStart>1</requiredCountAtGameStart>
					</value>
				</li>
				<li Class="PatchOperationAdd">
					<xpath>/Defs/FactionDef[defName="Ogam_MagicalAcademy"]</xpath>
					<value>
						<startingCountAtWorldCreation>1</startingCountAtWorldCreation>
					</value>
				</li>
				<li Class="PatchOperationReplace">
					<xpath>/Defs/FactionDef[defName="Ogam_MagicalAcademy"]/caravanTraderKinds</xpath>
					<value>
						<caravanTraderKinds Inherit="False">
							<li>DankPyon_Caravan_Medieval_BulkGoodsMerchant</li>
						</caravanTraderKinds>
					</value>
				</li>
				
			</operations>
		</match>
	</Operation>
	
	
	<!-- ID: 2553700067 -->
	<Operation Class="PatchOperationFindMod">
		<mods><li>Medieval Overhaul</li></mods>
		
		<!-- ID: 1854376306 -->
		<match Class="PatchOperationFindMod">
			<mods><li>Nyaron race</li></mods>
			<match Class="PatchOperationSequence">
				<operations>
					
					<!-- Set Nyaron Faction to zero -->
					<li Class="PatchOperationReplace">
						<xpath>/Defs/FactionDef[defName="NyaronFaction" or defName="NyaronFactionEnemy"]/requiredCountAtGameStart</xpath>
						<value>
							<requiredCountAtGameStart>0</requiredCountAtGameStart>
						</value>
					</li>
					<li Class="PatchOperationAdd">
						<xpath>/Defs/FactionDef[defName="NyaronFaction" or defName="NyaronFactionEnemy"]</xpath>
						<value>
							<startingCountAtWorldCreation>0</startingCountAtWorldCreation>
						</value>
					</li>
					
					<!-- Add NyaronFactionEnemy Faction -->
					<li Class="PatchOperationReplace">
						<xpath>/Defs/FactionDef[defName="NyaronFactionEnemy"]/requiredCountAtGameStart</xpath>
						<value>
							<requiredCountAtGameStart>1</requiredCountAtGameStart>
						</value>
					</li>
					<li Class="PatchOperationReplace">
						<xpath>/Defs/FactionDef[defName="NyaronFactionEnemy"]/startingCountAtWorldCreation</xpath>
						<value>
							<startingCountAtWorldCreation>1</startingCountAtWorldCreation>
						</value>
					</li>
					
					<!-- Add nyarons to faction -->
					<li Class="PatchOperationAdd">
						<xpath>/Defs/FactionDef[defName="DankPyon_NobleHouseCivil" or defName="DankPyon_NobleHouseCivil2" or defName="DankPyon_NobleHouseFierce" or defName="DankPyon_NobleHouseSavage" or @Name="DankPyon_UlrikFactionBase" or @Name="DankPyon_BrigandFactionBase"]/pawnGroupMakers/li[kindDef="Combat"]/options</xpath>
						<value>
							<Nyaron_Soldier>25</Nyaron_Soldier>
							<Nyaron_Soldier_Light>25</Nyaron_Soldier_Light>
						</value>
					</li>
					
					<li Class="PatchOperationAdd">
						<xpath>/Defs/FactionDef[defName="DankPyon_NobleHouseCivil" or defName="DankPyon_NobleHouseCivil2" or defName="DankPyon_NobleHouseFierce" or defName="DankPyon_NobleHouseSavage" or @Name="DankPyon_UlrikFactionBase" or @Name="DankPyon_BrigandFactionBase"]/pawnGroupMakers/li[kindDef="Combat" and commonality="100"]/options</xpath>
						<value>
							<Nyaron_Ranger>25</Nyaron_Ranger>
							<Nyaron_Ranger_Light>25</Nyaron_Ranger_Light>
						</value>
					</li>
					
					<li Class="PatchOperationAdd">
						<xpath>/Defs/FactionDef[defName="DankPyon_NobleHouseCivil" or defName="DankPyon_NobleHouseCivil2" or defName="DankPyon_NobleHouseFierce" or defName="DankPyon_NobleHouseSavage" or @Name="DankPyon_UlrikFactionBase" or @Name="DankPyon_BrigandFactionBase"]/pawnGroupMakers/li[kindDef="Settlement"]/options</xpath>
						<value>
							<Nyaron_Soldier>25</Nyaron_Soldier>
							<Nyaron_Soldier_Light>25</Nyaron_Soldier_Light>
							<Nyaron_Ranger>25</Nyaron_Ranger>
							<Nyaron_Ranger_Light>25</Nyaron_Ranger_Light>
						</value>
					</li>
					
				</operations>
			</match>
		</match>
		
	</Operation>
	
	
	<!-- ID: 2553700067 -->
	<Operation Class="PatchOperationFindMod">
		<mods><li>Medieval Overhaul</li></mods>
		
		<match Class="PatchOperationFindMod">
			<mods><li>Ideology</li></mods>
			<match Class="PatchOperationSequence">
				<operations>
					
					<!-- Add TribeCannibal -->
					<li Class="PatchOperationAdd">
						<xpath>/Defs/FactionDef[defName="TribeCannibal"]</xpath>
						<value>
							<maxCountAtGameStart>1</maxCountAtGameStart>
						</value>
					</li>
					<li Class="PatchOperationReplace">
						<xpath>/Defs/FactionDef[defName="TribeCannibal"]/requiredCountAtGameStart</xpath>
						<value>
							<requiredCountAtGameStart>1</requiredCountAtGameStart>
						</value>
					</li>
					<li Class="PatchOperationReplace">
						<xpath>/Defs/FactionDef[defName="TribeCannibal"]/startingCountAtWorldCreation</xpath>
						<value>
							<startingCountAtWorldCreation>1</startingCountAtWorldCreation>
						</value>
					</li>
					
					<!-- Set CannibalPirate Faction to 0 -->
					<li Class="PatchOperationReplace">
						<xpath>/Defs/FactionDef[defName="CannibalPirate"]/requiredCountAtGameStart</xpath>
						<value>
							<requiredCountAtGameStart>0</requiredCountAtGameStart>
						</value>
					</li>
					<li Class="PatchOperationReplace">
						<xpath>/Defs/FactionDef[defName="CannibalPirate"]/startingCountAtWorldCreation</xpath>
						<value>
							<startingCountAtWorldCreation>0</startingCountAtWorldCreation>
						</value>
					</li>
					
				</operations>
			</match>
		</match>
		
	</Operation>
	
	
	<!-- ID: 2553700067 -->
	<Operation Class="PatchOperationFindMod">
		<mods><li>Medieval Overhaul</li></mods>
		
		<!-- ID: 2516523040 -->
		<match Class="PatchOperationFindMod">
			<mods><li>Rimedieval</li></mods>
			<match Class="PatchOperationSequence">
				<operations>
					
					<!-- Set Mechanoid Faction to zero -->
					<li Class="PatchOperationReplace">
						<xpath>/Defs/FactionDef[defName="Mechanoid"]/requiredCountAtGameStart</xpath>
						<value>
							<requiredCountAtGameStart>0</requiredCountAtGameStart>
						</value>
					</li>
					<li Class="PatchOperationAdd">
						<xpath>/Defs/FactionDef[defName="Mechanoid"]</xpath>
						<value>
							<startingCountAtWorldCreation>0</startingCountAtWorldCreation>
						</value>
					</li>
					
					<!-- Set Pirate Faction to zero -->
					<li Class="PatchOperationReplace">
						<xpath>/Defs/FactionDef[defName="Pirate"]/requiredCountAtGameStart</xpath>
						<value>
							<requiredCountAtGameStart>0</requiredCountAtGameStart>
						</value>
					</li>
					<li Class="PatchOperationAdd">
						<xpath>/Defs/FactionDef[defName="Pirate"]</xpath>
						<value>
							<startingCountAtWorldCreation>0</startingCountAtWorldCreation>
						</value>
					</li>
					
					<!-- Set Outlander Faction to zero -->
					<li Class="PatchOperationReplace">
						<xpath>/Defs/FactionDef[@Name="OutlanderFactionBase"]/requiredCountAtGameStart</xpath>
						<value>
							<requiredCountAtGameStart>0</requiredCountAtGameStart>
						</value>
					</li>
					<li Class="PatchOperationAdd">
						<xpath>/Defs/FactionDef[@Name="OutlanderFactionBase"]</xpath>
						<value>
							<startingCountAtWorldCreation>0</startingCountAtWorldCreation>
						</value>
					</li>
					
					<!-- Research fix -->
					<li Class="PatchOperationReplace">
						<xpath>/Defs/ResearchProjectDef[defName="Electricity"]/baseCost</xpath>
						<value>
							<baseCost>100000</baseCost>
						</value>
					</li>
					
				</operations>
			</match>
		</match>
		
	</Operation>
	
	
	<!-- ID: 2553700067 -->
	<Operation Class="PatchOperationFindMod">
		<mods><li>Medieval Overhaul</li></mods>
		
		<!-- ID: 836308268 -->
		<match Class="PatchOperationFindMod">
			<mods><li>Dubs Bad Hygiene</li></mods>
			<match Class="PatchOperationSequence">
				<operations>
					
					<li Class="PatchOperationReplace">
						<xpath>/Defs/ResearchProjectDef[defName="CentralHeating" or defName="GeothermalHeating" or defName="ModernFixtures" or defName="Irrigation" or defName="FireSuppression"]/techLevel</xpath>
						<value>
							<techLevel>Medieval</techLevel>
						</value>
					</li>
					<li Class="PatchOperationRemove">
						<xpath>/Defs/ResearchProjectDef[defName="CentralHeating"]/prerequisites/li[text()="Electricity"]</xpath>
					</li>
					
				</operations>
			</match>
		</match>
		
	</Operation>
	
	
	<!-- ID: 2787850474 -->
	<Operation Class="PatchOperationFindMod">
		<mods><li>Vanilla Factions Expanded - Classical</li></mods>
		
		<match Class="PatchOperationSequence">
			<operations>
				
				<!-- VFE Classical xenotype -->
				<li Class="PatchOperationReplace">
					<xpath>/Defs/FactionDef[@Name="VFEC_RepublicBase"]/xenotypeSet</xpath>
					<value>
						<xenotypeSet>
							<xenotypeChances>
								<Baseliner MayRequire="Ludeon.RimWorld.Biotech">0.5</Baseliner>
								<Impid MayRequire="Ludeon.RimWorld.Biotech">0.25</Impid>
								<Neanderthal MayRequire="Ludeon.RimWorld.Biotech">0.25</Neanderthal>
								<Hussar MayRequire="Ludeon.RimWorld.Biotech">0.25</Hussar>
								<Yttakin MayRequire="Ludeon.RimWorld.Biotech">0.25</Yttakin>
							</xenotypeChances>
						</xenotypeSet>
					</value>
				</li>
				
			</operations>
		</match>
	</Operation>
	
	
	<!-- ID: 2553700067 -->
	<Operation Class="PatchOperationFindMod">
		<mods><li>Medieval Overhaul</li></mods>
		
		<!-- ID: 2787850474 -->
		<!-- ID: 2790332207 Russian -->
		<match Class="PatchOperationFindMod">
			<mods><li>Vanilla Factions Expanded - Classical</li></mods>
			<match Class="PatchOperationSequence">
				<operations>
					
					<!-- Fix buildings production -->
					<li Class="PatchOperationRemove">
						<xpath>/Defs/ThingDef[defName="VFEC_MeatDryingRack"]/costList</xpath>
					</li>
					<li Class="PatchOperationAdd">
						<xpath>/Defs/ThingDef[defName="VFEC_MeatDryingRack"]</xpath>
						<value>
							<costStuffCount>75</costStuffCount>
							<stuffCategories>
								<li>Metallic</li>
								<li>Woody</li>
							</stuffCategories>
						</value>
					</li>
					<li Class="PatchOperationRemove">
						<xpath>/Defs/ThingDef[defName="VFEC_CraftingBench"]/costList</xpath>
					</li>
					<li Class="PatchOperationAdd">
						<xpath>/Defs/ThingDef[defName="VFEC_CraftingBench"]</xpath>
						<value>
							<costStuffCount>75</costStuffCount>
							<stuffCategories>
								<li>Metallic</li>
								<li>Woody</li>
							</stuffCategories>
						</value>
					</li>
					
					<!-- Make Bronze -->
					<li Class="PatchOperationAdd">
						<xpath>/Defs/ThingDef[defName="DankPyon_Furnace"]/recipes</xpath>
						<value>
							<li>VFEC_Make_Bronze</li>
						</value>
					</li>
					
					<!-- Set VFEC_RepublicBase Faction to zero -->
					<li Class="PatchOperationReplace">
						<xpath>/Defs/FactionDef[@Name="VFEC_RepublicBase"]/requiredCountAtGameStart</xpath>
						<value>
							<requiredCountAtGameStart>0</requiredCountAtGameStart>
						</value>
					</li>
					<li Class="PatchOperationAdd">
						<xpath>/Defs/FactionDef[@Name="VFEC_RepublicBase"]</xpath>
						<value>
							<startingCountAtWorldCreation>0</startingCountAtWorldCreation>
						</value>
					</li>
					<li Class="PatchOperationReplace">
						<xpath>/Defs/FactionDef[@Name="VFEC_RepublicBase"]/caravanTraderKinds</xpath>
						<value>
							<caravanTraderKinds Inherit="False">
								<li>DankPyon_Caravan_Medieval_BulkGoodsMerchant</li>
								<li>VFEC_Caravan_Republic_WarMerchant</li>
								<li>VFEC_Caravan_Republic_Slaver</li>
							</caravanTraderKinds>
						</value>
					</li>
					<li Class="PatchOperationReplace">
						<xpath>/Defs/TraderKindDef[defName="VFEC_Caravan_Republic_WarMerchant" or defName="VFEC_Caravan_Republic_Slaver"]/stockGenerators/li[thingDef="Silver"]/countRange</xpath>
						<value>
							<countRange>2000~5000</countRange>
						</value>
					</li>
					<li Class="PatchOperationReplace">
						<xpath>/Defs/TraderKindDef[defName="VFEC_Base_Republic_Standard"]/stockGenerators/li[thingDef="Silver"]/countRange</xpath>
						<value>
							<countRange>5000~10000</countRange>
						</value>
					</li>
					
					<!-- Add VFEC_CentralRepublic Faction -->
					<li Class="PatchOperationAdd">
						<xpath>/Defs/FactionDef[defName="VFEC_CentralRepublic"]</xpath>
						<value>
							<requiredCountAtGameStart>1</requiredCountAtGameStart>
						</value>
					</li>
					<li Class="PatchOperationAdd">
						<xpath>/Defs/FactionDef[defName="VFEC_CentralRepublic"]</xpath>
						<value>
							<startingCountAtWorldCreation>1</startingCountAtWorldCreation>
						</value>
					</li>
					
					<!-- Senators replace -->
					<li Class="PatchOperationReplace">
						<xpath>/Defs/FactionDef[defName="VFEC_CentralRepublic"]/modExtensions/li[@Class="VFEC.Senators.FactionExtension_SenatorInfo"]</xpath>
						<value>
							<li Class="VFEC.Senators.FactionExtension_SenatorInfo">
								<numSenators>5</numSenators>
								<senatorPerks>
									<li>CarpeDiem</li>
									<li>ArsLongaVitaBrevis</li>
									<li>MensSanaInCorporeSano</li>
									<li>SiVisPacemParaBellum</li>
									<li>NaturaNonConstristatur</li>
								</senatorPerks>
								<senatorResearch>
									<li>VFEC_TemperatureControl</li>
									<li>VFEC_Thermaebath</li>
									<li>VFEC_CementMaking</li>
									<li>VFEC_CenturionArmor</li>
									<li>VFEC_TyrianProduction</li>
								</senatorResearch>
								<finalResearch>VFEC_Beacons</finalResearch>
								<finalPerk>Auxilia</finalPerk>
								<perkBGPath>UI/Perks/PerkBG_CentralRepublic</perkBGPath>
							</li>
						</value>
					</li>
					
				</operations>
			</match>
		</match>
		
	</Operation>
	
	
	<!-- ID: 2231295285 -->
	<Operation Class="PatchOperationFindMod">
		<mods><li>Vanilla Factions Expanded - Vikings</li></mods>
		
		<match Class="PatchOperationSequence">
			<operations>
				
				<!-- VFE Classical xenotype -->
				<li Class="PatchOperationReplace">
					<xpath>/Defs/FactionDef[@Name="VFEV_VikingBase"]/xenotypeSet</xpath>
					<value>
						<xenotypeSet>
							<xenotypeChances>
								<Baseliner MayRequire="Ludeon.RimWorld.Biotech">0.5</Baseliner>
								<Neanderthal MayRequire="Ludeon.RimWorld.Biotech">0.25</Neanderthal>
								<Hussar MayRequire="Ludeon.RimWorld.Biotech">0.25</Hussar>
								<Yttakin MayRequire="Ludeon.RimWorld.Biotech">0.25</Yttakin>
							</xenotypeChances>
						</xenotypeSet>
					</value>
				</li>
				
			</operations>
		</match>
	</Operation>
	
	
	<!-- ID: 2553700067 -->
	<Operation Class="PatchOperationFindMod">
		<mods><li>Medieval Overhaul</li></mods>
		
		<!-- ID: 2231295285 -->
		<match Class="PatchOperationFindMod">
			<mods><li>Vanilla Factions Expanded - Vikings</li></mods>
			<match Class="PatchOperationSequence">
				<operations>
					
					<!-- Set Nyaron Faction to zero -->
					<li Class="PatchOperationAdd">
						<xpath>/Defs/FactionDef[defName="VFEV_VikingsClan"]</xpath>
						<value>
							<requiredCountAtGameStart>0</requiredCountAtGameStart>
							<startingCountAtWorldCreation>0</startingCountAtWorldCreation>
						</value>
					</li>
					
				</operations>
			</match>
		</match>
		
	</Operation>
	
	
	<!-- ID: 1201382956 -->
	<Operation Class="PatchOperationFindMod">
		<mods><li>A RimWorld of Magic</li></mods>
		
		<match Class="PatchOperationSequence">
			<operations>
				
				<!-- Add xenotype -->
				<li Class="PatchOperationAdd">
					<xpath>/Defs/FactionDef[defName="Seers"]</xpath>
					<value>
						<xenotypeSet>
							<xenotypeChances>
								<Neanderthal MayRequire="Ludeon.RimWorld.Biotech">0.25</Neanderthal>
								<Hussar MayRequire="Ludeon.RimWorld.Biotech">0.25</Hussar>
								<Yttakin MayRequire="Ludeon.RimWorld.Biotech">0.25</Yttakin>
							</xenotypeChances>
						</xenotypeSet>
					</value>
				</li>
				
			</operations>
		</match>
	</Operation>
	
	
	<!-- ID: 1578693166 -->
	<Operation Class="PatchOperationFindMod">
		<mods><li>NewRatkinPlus</li></mods>
		
		<match Class="PatchOperationSequence">
			<operations>
				
				<!-- Add xenotype -->
				<li Class="PatchOperationAdd">
					<xpath>/Defs/FactionDef[@Name="RatkinFactionBase"]</xpath>
					<value>
						<xenotypeSet>
							<xenotypeChances>
								<Neanderthal MayRequire="Ludeon.RimWorld.Biotech">0.25</Neanderthal>
								<Hussar MayRequire="Ludeon.RimWorld.Biotech">0.25</Hussar>
								<Yttakin MayRequire="Ludeon.RimWorld.Biotech">0.25</Yttakin>
							</xenotypeChances>
						</xenotypeSet>
					</value>
				</li>
				
				<li Class="PatchOperationAdd">
					<xpath>/Defs/ResearchProjectDef[defName="MicroOptical"]/prerequisites</xpath>
					<value>
						<li>Gunsmithing</li>
					</value>
				</li>
				
			</operations>
		</match>
	</Operation>
	
	
	<!-- ID: 2553700067 -->
	<Operation Class="PatchOperationFindMod">
		<mods><li>Medieval Overhaul</li></mods>
		
		<!-- ID: 1578693166 -->
		<match Class="PatchOperationFindMod">
			<mods><li>NewRatkinPlus</li></mods>
			<match Class="PatchOperationSequence">
				<operations>
					
					<li Class="PatchOperationAdd">
						<xpath>/Defs/TraderKindDef[defName="Caravan_Ratkin_BulkGoods"]/stockGenerators</xpath>
						<value>
							<li Class="StockGenerator_SingleDef">
								<thingDef>DankPyon_Amber</thingDef>
								<countRange>80~155</countRange>
							</li>
						</value>
					</li>
					
				</operations>
			</match>
		</match>
		
	</Operation>
	
	
	<!-- ID: 2019053285 -->
	<Operation Class="PatchOperationFindMod">
		<mods><li>ColdCrystal</li></mods>
		
		<!-- ID: 1578693166 -->
		<match Class="PatchOperationFindMod">
			<mods><li>NewRatkinPlus</li></mods>
			<match Class="PatchOperationSequence">
				<operations>
					
					<li Class="PatchOperationAdd">
						<xpath>/Defs/TraderKindDef[defName="Caravan_Ratkin_BulkGoods"]/stockGenerators</xpath>
						<value>
							<li Class="StockGenerator_SingleDef">
								<thingDef>AmberCrystal</thingDef>
								<countRange>10~50</countRange>
							</li>
							<li Class="StockGenerator_SingleDef">
								<thingDef>ColdCrystal</thingDef>
								<countRange>10~50</countRange>
							</li>
						</value>
					</li>
					
				</operations>
			</match>
		</match>
		
	</Operation>
	
	
	<!-- ID: 2019053285 -->
	<Operation Class="PatchOperationFindMod">
		<mods><li>ColdCrystal</li></mods>
		<match Class="PatchOperationSequence">
			<operations>
				
				<li Class="PatchOperationReplace">
					<xpath>/Defs/ThingDef[@Name="CrystalLampBase"]/designationCategory</xpath>
					<value>
						<designationCategory>Temperature</designationCategory>
					</value>
				</li>
				
			</operations>
		</match>
	</Operation>
	
	
</Patch>